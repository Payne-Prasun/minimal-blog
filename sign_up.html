<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Sign Up</title>
    <link rel = "stylesheet" href="sign_up_style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="logo">
        <img src="Logo.drawio (1).png">
        <span class="tag">Where simplicity meets Expression</span>
        <span class="para">Dive into a world of simplicity, where every word counts, and every post resonates.
            <br>
        Discover the essence of minimalism, distilled into captivating stories, thought-provoking ideas, 
        <br>
        and moments of quiet inspiration. Join us on a journey where less trulybecomes more.</span>

        </div>
    <div class="sign_up_block">
        <div class="heading">
            <h2>Sign Up</h2>
            <h4>Welcome to Anonymous Whispers, join us and share you thougths with ease.</h4>
        </div>
        <div class="username">
            <input type="text" id = "Email" placeholder="Email Address" required>
        </div>

        <div class="password">
            <input type="password" id = "Password" placeholder="Password" required>
        </div>
        <div class="password">
            <input type="password" id = "Password_Confirm" placeholder="Confirm Password" required>
        </div>

        <!-- <div class="remember_me">
            <label><input type="checkbox"> <span style="position: relative ;font-size: 15px;">Remember Me?</span> </label>
            <a href="#" style="text-decoration: none; cursor: pointer;"> Forgot Password?</a>
        </div> -->

        <div class="button">
            <!-- <button class="login">Login</button> -->
            <a href="index.html">
                <button class="Join" id = "join">Join</button>
            </a>
        </div>

        <div class="quote">
            "Fill your paper with the breathings of your heart." - William Wordsworth
        </div>
        
    </div>
    
</body>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
    import { getDatabase, set, ref } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-database.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDLXczeErI6xod4yv7ISCLggkgKEf8K69I",
      authDomain: "blog-database-bf3a1.firebaseapp.com",
      databaseURL: "https://blog-database-bf3a1-default-rtdb.firebaseio.com",
      projectId: "blog-database-bf3a1",
      storageBucket: "blog-database-bf3a1.appspot.com",
      messagingSenderId: "445008082576",
      appId: "1:445008082576:web:90549e6702e81bd50bca15",
      measurementId: "G-9GQNWRHMN2"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();
  
    join.addEventListener('click',(e) => {

        var email = document.getElementById('Email').value;
        var password = document.getElementById('Password').value;
        var password_confirm = document.getElementById('Password_Confirm').value;

        createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
            // Signed up 
            const user = userCredential.user;
            
            set(ref(database, 'users/' + user.uid), {
                email: email
            })

            alert('Account Created');

            //to redirect to another page add code here

            
        })
        .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            //..
            alert(errorMessage);
        });

    })


  </script>

</html>